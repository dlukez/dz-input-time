!function(){"use strict";var t,e,n,r=2e3,i={LEFT:37,UP:38,RIGHT:39,DOWN:40,TAB:9};t=[function(){return{"24hour":{increment:function(t){var e=t.getHours();23===e&&(e-=24),t.setHours(e+1)},decrement:function(t){var e=t.getHours();0===e&&(e+=24),t.setHours(e-1)},set:function(t,e){var n=!0;return(0>e||e>23)&&(e=0,n=!1),t.setHours(e),n}},"12hour":{increment:function(t){var e=t.getHours();(11===e||23===e)&&(e-=12),t.setHours(e+1)},decrement:function(t){var e=t.getHours();(0===e||12===e)&&(e+=12),t.setHours(e-1)},set:function(t,e){var n=!0;return(1>e||e>11)&&(e=0,n=!1),t.setHours(e),n}},minute:{increment:function(t){var e=t.getMinutes();59===e&&(e-=60),this.set(t,e+1)},decrement:function(t){var e=t.getMinutes();0===e&&(e+=60),this.set(t,e-1)},set:function(t,e){var n=!0;return(0>e||e>=60)&&(e=0,n=!1),t.setMinutes(e),n}},ampm:{toggle:function(t){var e=t.getHours();t.setHours(e>12?e-12:e+12)},increment:function(t){this.toggle(t)},decrement:function(t){this.toggle(t)}}}}],e=["dzInputTimeUnits","dateFilter",function(t,e){var n={hh:{pattern:/0[0-9]|1[0-2]/,unit:t["12hour"]},h:{pattern:/0[0-9]|1[0-2]|[1-9]/,unit:t["12hour"]},HH:{pattern:/[0-1][0-9]|2[0-3]/,unit:t["24hour"]},H:{pattern:/[0-1][0-9]|2[0-3]|[0-9]/,unit:t["24hour"]},mm:{pattern:/[0-5][0-9]/,unit:t.minute},m:{pattern:/[0-5][0-9]|[0-9]/,unit:t.minute},ss:{pattern:/[0-5][0-9]/,unit:t.second},s:{pattern:/[0-5][0-9]|[0-9]/,unit:t.second},a:{pattern:/AM|PM/,unit:t.ampm}};return{parse:function(t){var e,n,r,i,o;return t?(e=t.match(/(\d\d?)(:?(\d\d))?\s*(p?)/i),null==e?null:(i=e[4],n=parseInt(e[1],10),r=parseInt(e[3],10)||0,12!=n||i?n+=12>n&&i?12:0:n=0,o=new Date(1970,0,1),o.setHours(n),o.setMinutes(r),o.setSeconds(0,0),o)):null},getUnitContainingCursor:function(t,r,i){for(var o,u,s,a,c={start:0,end:0},m=new RegExp(Object.keys(n).join("|"),"i");!(!(o=m.exec(r))||(u=n[o[0]],s=e(i,o[0]),a=c.end+o.index,a>t)||(c.start=a,c.end=c.start+s.length,c.unit=u.unit,t>=c.start&&t<c.end));)r=r.substr(o.index+o[0].length);return c}}}],n=["dateFilter","dzInputTimeParser","$timeout",function(t,e,n){return{scope:{time:"=ngModel"},controller:["$scope","$element","$attrs",function(t,o,u){var s,a,c,m=this;m.options={format:u.format||"hh:mm a"},m.refocus=function(){n(function(){m.$$resetSelection(o[0].selectionStart)},0,!1)},m.$$resetSelection=function(n){s=e.getUnitContainingCursor(n,m.options.format,t.time),m.$$setSelection(s.start,s.end)},m.$$setSelection=function(t,e){o[0].selectionStart=t,o[0].selectionEnd=e},m.moveRight=function(){var t=0,e=s.unit;do m.$$resetSelection(s.end+t),t++;while(s.end+t<=o.val().length&&s.unit===e)},m.moveLeft=function(){var t=0,e=s.unit;do m.$$resetSelection(s.start-t),t++;while(s.start-t>=0&&s.unit===e)},m.$$resetLastKey=function(){a=null},m.handleKeydown=function(e){var o;switch(e.keyCode){case i.UP:t.time=new Date(t.time),s.unit.increment(t.time),t.$apply(),m.$$resetSelection(s.start);break;case i.DOWN:t.time=new Date(t.time),s.unit.decrement(t.time),t.$apply(),m.$$resetSelection(s.start);break;case i.RIGHT:m.moveRight();break;case i.LEFT:m.moveLeft()}e.keyCode!==i.TAB&&(e.preventDefault(),e.stopImmediatePropagation()),o=String.fromCharCode(e.keyCode),/([AaPp0-9])/.test(o)?(a||(a=""),t.time=new Date(t.time),a=s.unit.set(t.time,a+o)?o:null,t.$apply(),m.$$resetSelection(s.start),c&&n.cancel(c),c=n(m.$$resetLastKey,r,!1)):a=null}}],require:["dzInputTime","ngModel"],link:function(e,n,r,i){var o=i[0],u=i[1];u.$formatters.push(function(e){return t(e,o.options.format)}),n.on("keydown",o.handleKeydown),n.on("click focus",o.refocus)}}}],angular.module("dz.inputTime",[]).factory("dzInputTimeUnits",t).factory("dzInputTimeParser",e).directive("dzInputTime",n)}();